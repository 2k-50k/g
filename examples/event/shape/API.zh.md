---
title: API
---

## 属性

- `shape.on(eventType: string, callback: (ev: GraphEvent) => void, once: boolean)`
  - `eventType`: 事件类型
  - `callback`: 事件执行时的回调函数，其中回调函数的参数为事件对象 ev
  - `once`: 是否只执行一次
- G 内置支持了全部的浏览器事件：
  - mousedown
  - mouseup
  - dblclick
  - mouseout
  - mouseover
  - mousemove
  - mouseleave
  - mouseenter
  - touchstart
  - touchmove
  - touchend
  - dragenter
  - dragover
  - dragleave
  - drop
  - contextmenu
- 事件对象 `ev` 的属性值：
  - `type`: 事件类型
  - `name`: 事件名称
  - `x`: 画布上的 x 坐标
  - `y`: 画布上的 y 坐标
  - `clientX`: 窗口上的 x 坐标
  - `clientY`: 窗口上的 y 坐标
  - `bubbles`: 是否允许冒泡
  - `target`: 事件的触发对象
  - `currentTarget`: 事件的监听对象
  - `delegateTarget`: 事件的委托对象
  - `delegateObject`: 委托事件监听对象的 `delegateObject` 属性值，即 `ev.delegateObject = ev.currentTarget.get('delegateObject')`
  - `defaultPrevented`: 是否阻止了原生事件
  - `propagationStopped`: 是否阻止传播（向上冒泡）
  - `shape`: 触发事件的图形
  - `fromShape`: 开始触发事件的图形
  - `toShape`: 事件结束时的触发图形
  - `timeStamp`: 触发事件的时间
  - `domEvent`: 触发时的浏览器事件对象
  - `propagationPath`: 触发事件的路径
